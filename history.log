98a0a207-5aa3-4ca9-9d64-c51e2e8607ce:1764850634790:286:F:CREATE OR REPLACE FUNCTION test_es_valido_dni_sql_ok RETURN NUMBER IS\nBEGIN\n    DBMS_OUTPUT.PUT_LINE('Pruebas de es_dni_valido - casos OK: EN PROGRESO');\n    FOR registro IN (\n        SELECT dni_input, es_valido, es_dni_valido(dni_input) as resultado FROM dni_test_data_ok\n    ) LOOP\n        numero_casos_total := numero_casos_total + 1;\n            IF registro.resultado != registro.es_valido THEN\n                numero_casos_fallidos := numero_casos_fallidos + 1;\n                DBMS_OUTPUT.PUT_LINE('FALLO EN es_dni_valido con DNI=' || registro.dni_input || \n                                     ': se esperaba es_valido=' || registro.es_valido || \n                                     ', pero se obtuvo es_valido=' || registro.resultado);\n            END IF;\n        END;\n    END LOOP;\n    numero_casos_exitosos := numero_casos_total - numero_casos_fallidos;\n    DBMS_OUTPUT.PUT_LINE('Pruebas de es_dni_valido - casos OK: FINALIZADAS');\n    DBMS_OUTPUT.PUT_LINE('Resumen de resultados: ');\n    DBMS_OUTPUT.PUT_LINE('. Casos totales: ' || numero_casos_total );\n    DBMS_OUTPUT.PUT_LINE('. Casos exitosos: ' || numero_casos_exitosos );\n    DBMS_OUTPUT.PUT_LINE('. Casos fallidos: ' || numero_casos_fallidos );\n\n    IF numero_casos_fallidos = 0 THEN\n        DBMS_OUTPUT.PUT_LINE('Pruebas de es_dni_valido - casos OK: EXITOSAS');\n    ELSE\n        DBMS_OUTPUT.PUT_LINE('Pruebas de es_dni_valido - casos OK: FALLIDAS');\n    END IF;\n    RETURN CASE (numero_casos_exitosos = numero_casos_total)\n           WHEN TRUE THEN 1\n           ELSE 0\n           END;\nEND;\n/
ae0630ba-3ea4-41ac-b0f8-adbfc89e609e:1764850636387:50:F:DECLARE\n    resultado NUMBER;\nBEGIN\n    DBMS_OUTPUT.PUT_LINE('-------------------------------------------------------------------------------------------------------');\n    DBMS_OUTPUT.PUT_LINE('Iniciando ejecuci√≥n de pruebas para el paquete dni_utils');\n    DBMS_OUTPUT.PUT_LINE('-------------------------------------------------------------------------------------------------------');\n\n    resultado := test_validar_dnis_ok;\n\n    resultado := resultado + test_validar_dnis_nok;\n\n    DBMS_OUTPUT.PUT_LINE('-------------------------------------------------------------------------------------------------------');\n    IF resultado = 2 THEN\n        DBMS_OUTPUT.PUT_LINE('RESUMEN: Todas las pruebas del paquete dni_utils han sido exitosas.');\n    ELSE\n        DBMS_OUTPUT.PUT_LINE('RESUMEN: Algunas pruebas del paquete dni_utils han fallado.');\n    END IF;\n    DBMS_OUTPUT.PUT_LINE('-------------------------------------------------------------------------------------------------------');\nEND;\n/
